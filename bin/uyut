#!/bin/zsh

HOSTNAME=$(hostname -s)

[ "$HOSTNAME" = "$1" ] || { echo "This is $HOSTNAME but you acted on '$1'; are you sure you know what you're doing?" ; exit }

case $HOSTNAME in
	leylek|lemur)
		sudo -v && slock &
		sudo systemctl suspend
		;;
	jaguar)
		sudo -v && slock &
		sudo systemctl suspend
		source <(grep evrouter ~/.xprofile)
		;;
	pars)
		sudo sh -c 'echo mem > /sys/power/state'
		sleep 2
		xmodmap -e keycode\ 48\ \=\ apostrophe\ quotedbl ; xmodmap ~/.xmodmaprc
		;;
	*)
		echo "Unknown host, no sleep routine defined"
		;;
esac
