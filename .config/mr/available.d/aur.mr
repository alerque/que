#!/usr/bin/env zsh

mktemp aur-co-maintain.XXXXX | read comaintain
trap 'rm -f "$comaintain"' EXIT

curl -s 'https://aur.archlinux.org/packages/?SeB=c&K=caleb' |
	 hxselect 'tr > td:first-child > a' -c -s'\n' > $comaintain

yaourt -Ss --maintainer caleb |
	sed -n -e '/^aur/{s#.*/##;s# .*##;p}' |
	cat - $comaintain |
	sort |
	while read pkg; do
		cat <<- EOF
			[/home/caleb/projects/aur/${pkg}]
			checkout = git clone ssh://aur@aur.archlinux.org/${pkg}.git
		EOF
	done
